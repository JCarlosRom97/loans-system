<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Prestamos</title>
</head>
<body>
    <div class="container">
        <div id="header"></div>
        <h3 id="name-user"></h3>
        <div class="pagados-section hidden">
            <h2 id="accordion-body-title-pagados" >Visualización de Préstamos Pagados</h2>
            <div class="accordion" id="accordion-body-pagado">
            </div>
        </div>
        <div id="prestamos-refinanciados-section" class="refinanciados-section hidden" >
            <h2 id="accordion-body-title-refinanciado" >Visualización de Préstamos Refinanciados</h2>
            <div class="accordion" id="accordion-body-refinanciado">
            </div>
        </div>
        <div id="prestamos-eliminados-section" class="eliminados-section hidden">
            <h2 id="accordion-body-title-eliminados" >Visualización de Préstamos Eliminados</h2>
            <div class="accordion" id="accordion-body-eliminados">
            </div>
        </div>
        <h2>Formulario Prestamo y Pagos</h2>
        <div class="active-loan-section" id="detailLoanSection">
            <h3>Préstamo Activo</h3>
            <div class="loan-info">
                <div class="section">
                    <div class="info-item">
                        <span class="label">Número de Prestamo:</span>
                        <span class="value" id="numero-prestamo-label"></span>
                    </div>
                </div>
                <div class="section">
                    <div class="info-item">
                        <span class="label">Periodo:</span>
                        <span class="value" id="periodo"></span>
                    </div>
                    <div class="info-item">
                        <span class="label">Número de Cheque:</span>
                        <span class="value" id="loan-numero-cheque"></span>
                    </div>
                    <div class="info-item">
                        <span class="label">Fecha Inicio:</span>
                        <span class="value" id="fecha-inicio"></span>
                    </div>
                    <div class="info-item">
                        <span class="label">Fecha Vigencia:</span>
                        <span class="value" id="fecha-termino"></span>
                    </div>
                </div>
                <div class="section">
                    <div class="info-item">
                        <span class="label">Fecha Pago:</span>
                        <span class="value" id="fecha-pago"></span>
                    </div>
                    <div class="info-item">
                        <span class="label">Monto:</span>
                        <span class="value" id="loan-amount"></span>
                    </div>
                    <div class="info-item">
                        <span class="label">Interés:</span>
                        <span class="value" id="loan-interest"></span>
                    </div>
                    <div class="info-item">
                        <span class="label">Intereses $:</span>
                        <span class="value" id="loan-interest-ammount"></span>
                    </div>
                </div>
                <div class="section">
                    <div class="info-item">
                        <span class="label">Total Préstamo:</span>
                        <span class="value" id="loan-total"></span>
                    </div>
                    <div class="info-item">
                        <span class="label">Abono:</span>
                        <span class="value" id="loan-abono"></span>
                    </div>
                    <div class="info-item">
                        <span class="label">Saldo:</span>
                        <span class="value" id="loan-saldo"></span>
                    </div>
                    <div class="info-item">
                        <span class="label">capital:</span>
                        <span class="value" id="loan-capital"></span>
                    </div>
                </div>
                <div class="section">
                    <div class="info-item">
                        <span class="label">Estado:</span>
                        <span class="value" id="loan-status"></span>
                    </div>
                    <div class="info-item">
                        <span class="label">Pagos Completados:</span>
                        <span class="value" id="loan-payments"></span>
                    </div>
                    <div class="info-item">
                        <span class="label">Número de Catorcenas:</span>
                        <span class="value" id="loan-catorcenas"></span>
                    </div>
                    <div class="info-item">
                        <span class="label">Pago Última Catorcena:</span>
                        <span class="value" id="loan-ultima-catorcena"></span>
                    </div>
                </div>
                <div class="section" style="padding: 0px 350px 0px 350px;">
                    <button class="refinanciar-button" id="refinanciarButton">Refinanciar</button>
                    <button class="button-delete" id="eliminarButton">Eliminar</button>
                </div>
            </div>
        </div>
        
        <!-- Prestamo Section -->
        <form id="formLoan">
            <div class="form-section">
            <h3 id="prestamo-title">Nuevo Préstamo</h3>
            <div class="section">
                <div class="form-group">
                    <label for="numero-prestamo">Número de Prestamo</label>
                    <input type="text" id="numero-prestamo" name="numero-prestamo" required>
                </div>
            </div>
            <div class="section">
                <div class="form-group">
                    <label for="fecha">Fecha primer abono</label>
                    <input type="text" id="fecha" name="fecha" placeholder="(dd/mm/aaaa)" required>
                </div>
                <div class="form-group">
                    <label for="fecha-termino-input">Fecha de Vigencia</label>
                    <input type="text" id="fecha-termino-input" name="fecha-termino-input" placeholder="(dd/mm/aaaa)" required disabled>
                </div>
                <div class="form-group">
                    <label for="numero-cheque-input" >Numero de Cheque:</label>
                    <input type="text" id="numero-cheque-input" name="numero-cheque-input"  required >
                </div>
            </div>
            <div class="section">
                <div class="form-group">
                    <label for="monto" id="montoPagoTitle">Monto:</label>
                    <input type="number" id="monto" name="monto" step="0.01" required max="250000">
                </div>
                <div class="form-group">
                    <label for="noAnios">Años:</label>
                    <input type="number" id="noAnios" name="noAnios" required>
                </div>
                <div class="form-group">
                    <label for="interes">Interés mensual:</label>
                    <input type="number" id="interes" name="interes" step="0.01" value="" >
                </div>
                <div class="form-group">
                    <label for="cantidadMeses">Cantidad de meses:</label>
                    <input type="number" id="cantidadMeses" name="cantidadMeses"  value="" disabled>
                </div>
            </div>
            <div class="section">
                <div class="form-group hidden" id="capital-input-container">
                    <label for="Capital">Capital:</label>
                    <input type="text" id="Capital" name="Capital"  value="" disabled>
                </div>
                <div class="form-group">
                    <label for="interesesPrestamo">Intereses del prestamo:</label>
                    <input type="text" id="interesesPrestamo" name="interesesPrestamo" step="0.01" required disabled>
                </div>
                <div class="form-group">
                    <label for="totalPrestamo" style="width: 250px;">Total del Préstamo<span id="saldoAnterior"></span>:</label>
                    <input type="text" id="totalPrestamo" name="totalPrestamo" step="0.01" required disabled>
                </div>
            </div>
            <div class="section">
                <div class="form-group">
                    <label for="abono">Abono:</label>
                    <input type="text" id="abono" name="abono" step="0.01" disabled>
                </div>
                <div class="form-group">
                    <label for="noCatorcenas">Número de Catorcenas:</label>
                    <input type="number" id="noCatorcenas" name="noCatorcenas" required disabled>
                </div>
            </div>

            <div class="table-container hidden" id="tablePagos">
                <table class="user-table">
                  <thead>
                    <tr>
                      <th>No.</th>
                      <th>Fecha</th>
                      <th>Monto</th>
                    </tr>
                  </thead>
                  <tbody id="user-table-body">
                    <!-- Aquí se insertarán los usuarios dinámicamente -->
                  </tbody>
                </table>
                <div id="info"></div>
                <div id="last-pay-container">
                    <p>Ultimo Pago: <span id="last-pay"></span></p>
                </div>
              </div>
            <button type="submit" id="nuevoPrestamo" class="button-nuevo-prestamo">Nuevo Prestamo</button>
            </div>
        </form>
        <input type="text" id="idUser" name="idUser" disabled hidden>
        <input type="text" id="idPrestamo" name="idPrestamo" disabled hidden>

        <!-- Pagos Section -->
        <form id="pagosForm">
            <div class="form-section">
            <h3>Pagos</h3>
            <div class="section hidden" id="restanteAbonoSection">
                <div class="form-group">
                    <label for="restanteAbono">Saldo Pendiente Anterior:</label>
                    <input type="text" id="restanteAbono" name="restanteAbono" disabled>
                </div>
            </div>
            <div class="section">
                <div class="form-group">
                    <label for="fechaPagoCatorcena">Fecha de Catorcena:</label>
                    <input type="text" id="fechaPagoCatorcena" name="fechaPagoCatorcena" placeholder="(dd/mm/aaaa)" required disabled>
                </div>
                <div class="form-group">
                    <label for="fecha-deposito">Fecha de Depósito:</label>
                    <input type="text" id="fecha-deposito" name="fecha-deposito" step="0.01" required>
                </div>
                <div class="form-group">
                    <label for="montoPago">Monto del Pago:</label>
                    <input type="number" id="montoPago" name="montoPago" step="0.01" required>
                </div>
            </div>
            <div class="section">
                <div class="form-group">
                    <label for="periodoCatorcenal">Período Catorcenal:</label>
                    <input type="number" id="periodoCatorcenal" name="periodoCatorcenal" disabled>
                </div>
                <div class="form-group">
                    <label for="metodoPago">Método de Pago:</label>
                    <select id="metodoPago" name="metodoPago" required>
                        <option value="Efectivo">Efectivo</option>
                        <option value="Transferencia">Transferencia</option>
                        <option value="Tarjeta">Tarjeta</option>
                    </select>
                </div>
            </div>
            <button class="registrar-pago-button" type="submit">Registrar Pago</button>
            </div>
            <div class="table-container hidden" id="tablePagosPrestamos">
                <table class="user-table">
                  <thead>
                    <tr>
                        <th>No.</th>
                        <th>Periodo Catorcenal</th>
                        <th>Fecha Catorcena</th>
                        <th>Fecha de Depósito</th>
                        <th>Monto</th>
                        <th>Monto a Capital</th>
                        <th>Monto a Intereses</th>
                        <th>Método de Pago</th>
                        <th>Saldo Actual</th>
                        <th>Opciones</th>
                    </tr>
                  </thead>
                  <tbody id="user-table-body-pays">
                    <!-- Aquí se insertarán los usuarios dinámicamente -->
                  </tbody>
                </table>
                <div id="info"></div>
              </div>
        </form>
    </div>
</body>
<script src="./renderer.js"></script>
<script src="./../../components/header/renderer.js"></script>
<script>
    addHeader("./../../components/header/header.html")
</script>
</html>